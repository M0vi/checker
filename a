-- final_script.txt (corrigido, integrado, limpo)
local n = getrawmetatable(game)
setreadonly(n, false)
local o = n.__index

n.__index = newcclosure(function(p, q)
    if q == "Size" then
        local r, s = pcall(function() return p.ClassName end)
        if r and s == "Part" and p.Name == "HumanoidRootPart" then
            return Vector3.new(2, 2, 1)
        end
    end
    return o(p, q)
end)

setreadonly(n, true)

-- variables / services
local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local StarterGui = game:GetService("StarterGui")
local RunService = game:GetService("RunService")
local Replicated = game:GetService("ReplicatedStorage")
local TweenService = game:GetService("TweenService")
local HttpService = game:GetService("HttpService")
local MarketplaceService = game:GetService("MarketplaceService")
local LocalizationService = game:GetService("LocalizationService")

local Player = Players.LocalPlayer
local player = Players.LocalPlayer

local WindUI
do
    local ok, result = pcall(function()
        return require("./src/Init")
    end)

    if ok then
        WindUI = result
    else
        WindUI = loadstring(game:HttpGet("https://raw.githubusercontent.com/Footagesus/WindUI/main/dist/main.lua"))()
    end
end

WindUI.Creator.AddIcons("solar", {
    ["CheckSquareBold"] = "rbxassetid://132438947521974",
    ["CursorSquareBold"] = "rbxassetid://120306472146156",
    ["FileTextBold"] = "rbxassetid://89294979831077",
    ["FolderWithFilesBold"] = "rbxassetid://74631950400584",
    ["HamburgerMenuBold"] = "rbxassetid://134384554225463",
    ["Home2Bold"] = "rbxassetid://92190299966310",
    ["InfoSquareBold"] = "rbxassetid://119096461016615",
    ["PasswordMinimalisticInputBold"] = "rbxassetid://109919668957167",
    ["SolarSquareTransferHorizontalBold"] = "rbxassetid://125444491429160",
})

local Window = WindUI:CreateWindow({
    Title = ".ftgs hub  |  WindUI Example",
    Folder = "ftgshub",
    IconSize = 22*2,
    NewElements = true,
    HideSearchBar = false,
    OpenButton = {
        Title = "Open .ftgs hub UI",
        CornerRadius = UDim.new(1,0),
        StrokeThickness = 3,
        Enabled = true,
        Draggable = true,
        OnlyMobile = false,
        Color = ColorSequence.new(
            Color3.fromHex("#30FF6A"),
            Color3.fromHex("#e7ff2f")
        )
    },
    Topbar = {
        Height = 44,
        ButtonsType = "Mac",
    },
})

Window:Tag({
    Title = "v" .. WindUI.Version,
    Icon = "github",
    Color = Color3.fromHex("#1c1c1c")
})

local Purple = Color3.fromHex("#7775F2")
local Yellow = Color3.fromHex("#ECA201")
local Green = Color3.fromHex("#10C550")
local Grey = Color3.fromHex("#83889E")
local Blue = Color3.fromHex("#257AF7")
local Red = Color3.fromHex("#EF4F1D")

do
    local AboutTab = Window:Tab({
        Title = "Informações",
        Desc = "Informações", 
        Icon = "solar:InfoSquareBold",
        IconColor = Grey,
        IconShape = "Square",
    })

    local AboutSection = AboutTab:Section({
        Title = "[E.B] Main Loader",
    })

    AboutSection:Image({
        Image = "https://tr.rbxcdn.com/180DAY-84c7c1edcc63c7dfab5712b1ad377133/768/432/Image/Webp/noFilter",
        AspectRatio = "16:9",
        Radius = 9,
    })

    AboutSection:Space({ Columns = 3 })

    AboutSection:Section({
        Title = "Informações de desenvolvimento",
        TextSize = 24,
        FontWeight = Enum.FontWeight.SemiBold,
    })

    AboutSection:Space()

    AboutSection:Section({
        Title = [[Desenvolvido e mantido por @fp3, em LuaU.]],
        TextSize = 18,
        TextTransparency = .35,
        FontWeight = Enum.FontWeight.Medium,
    })

    AboutTab:Space({ Columns = 4 })
end

local ElementsSection = Window:Section({
    Title = "Elements",
})

local OtherSection = Window:Section({
    Title = "Other",
})

-- Config / utility Notify wrapper (uses WindUI properly)
local function Notify(title, content, dur)
    pcall(function()
        WindUI:Notify({
            Title = tostring(title or ""),
            Content = tostring(content or ""),
            Duration = dur or 3,
            Icon = "bird"
        })
    end)
end

-- convenience aliases used historically (kept for compatibility)
local function notif(t, d) Notify(t, d) end
local function notif_af(t, d) Notify(t, d) end


-- === Tevez mod / Gun system ===
local GS = Replicated:WaitForChild("GunSystem")
local GC = GS:WaitForChild("GunsConfigurations")
local FireEvent = GS.Remotes.Events.Fire
local ReloadFunction = GS.Remotes.Functions.Reload

local Active = true
local Aura = false
local Blocker = false
local Connections = {}
local Tasks = {}
local LastTargetTime = 0
local WalkSpeedDefault = 16
local NoClipConn = nil
local CanCollide = true

local function track(c) table.insert(Connections, c) end
local function trackTask(t) table.insert(Tasks, t) end
local function reg(target) LastTargetTime = tick() end

local function HasGun()
    local bp = Player:FindFirstChild("Backpack")
    local char = Player.Character

    for _, cfg in ipairs(GC:GetChildren()) do
        local n = cfg.Name
        if (bp and bp:FindFirstChild(n)) or (char and char:FindFirstChild(n)) then
            return true
        end
    end
    return false
end

local function bypass(h)
    local ok, mt = pcall(getrawmetatable, h)
    if not ok or not mt then return end

    setreadonly(mt, false)

    local old = mt.__index
    mt.__index = newcclosure(function(s, k)
        if s == h then
            if k == "WalkSpeed" then return 16 end
            if k == "JumpPower" then return 50 end
        end
        return old(s, k)
    end)

    setreadonly(mt, true)
end

if Player.Character then
    local hum = Player.Character:FindFirstChildOfClass("Humanoid")
    if hum then bypass(hum) end
end
Player.CharacterAdded:Connect(function(c)
    local h = c:WaitForChild("Humanoid")
    bypass(h)
end)

local function NoClip()
    if not CanCollide and Player.Character then
        for _, v in pairs(Player.Character:GetDescendants()) do
            if v:IsA("BasePart") and v.CanCollide then
                v.CanCollide = false
            end
        end
    end
end

local function GetGun()
    local c = Player.Character
    if not c then return end

    local tool = c:FindFirstChildWhichIsA("Tool")
    if not tool then return end

    local cfg = GC:FindFirstChild(tool.Name)
    if not cfg then return end

    return require(cfg), tool.Name
end

local function ModifyGun(prop, val)
    local cfg, name = GetGun()
    if cfg and cfg[prop] ~= nil then
        cfg[prop] = val
        Notify("GunMod", name.." "..prop.." → "..tostring(val))
    end
end

trackTask(task.spawn(function()
    while task.wait(0.25) do
        if not Active or not Aura or not HasGun() then continue end
        local c = Player.Character
        if not c then continue end

        local tool = c:FindFirstChildWhichIsA("Tool")
        if not tool then continue end

        pcall(function()
            ReloadFunction:InvokeServer(tool)
        end)
    end
end))

trackTask(task.spawn(function()
    local rp = RaycastParams.new()
    rp.FilterType = Enum.RaycastFilterType.Exclude

    while Active do
        if Aura and HasGun() and Player.Character then
            local c = Player.Character
            local tool = c:FindFirstChildWhichIsA("Tool")

            if tool then
                local cfg = GC:FindFirstChild(tool.Name)
                if cfg then
                    local cfgData = require(cfg)
                    local firePart = tool:FindFirstChild("FirePart") or tool:FindFirstChild("Handle") or tool.PrimaryPart
                    if firePart then

                        rp.FilterDescendantsInstances = {Player.Character}

                        local target, dist = nil, math.huge

                        for _, plr in ipairs(Players:GetPlayers()) do
                            if plr ~= Player and plr.Team ~= Player.Team and plr.Character then
                                local h = plr.Character:FindFirstChildOfClass("Humanoid")
                                if h and h.Health > 0 then
                                    local head = plr.Character:FindFirstChild("Head") or plr.Character:FindFirstChild("HumanoidRootPart")
                                    if head then
                                        local d = (head.Position - firePart.Position).Magnitude
                                        if d < dist then
                                            dist = d
                                            target = head
                                        end
                                    end
                                end
                            end
                        end

                        if target then
                            local direction = target.Position - firePart.Position
                            local result = workspace:Raycast(firePart.Position, direction.Unit * direction.Magnitude, rp)

                            local hitPos = (result and result.Position) or target.Position
                            local info = {
                                [target] = {
                                    Normal   = (result and result.Normal) or Vector3.new(0,1,0),
                                    Position = hitPos,
                                    Instance = target,
                                    Distance = direction.Magnitude,
                                    Material = (result and result.Material) or Enum.Material.ForceField
                                }
                            }

                            pcall(function()
                                FireEvent:FireServer(tool, info, hitPos)
                            end)

                            reg(target.Parent)
                        end
                    end
                end
            end
        end

        task.wait()
    end
end))

-- Tab A (unchanged logic, just fixed notifications)
do
    local TabA = ElementsSection:Tab({
        Title = "Mods",
        Icon = "solar:Home2Bold",
        IconColor = Grey,
        IconShape = "Square",
    })

    local SectionA = TabA:Section({
        Title = "A - Controls"
    })

    local bulletsValue = nil
    local spreadValue  = nil
    local rangeValue   = nil
    local speedValue   = nil

    SectionA:Toggle({
        Title = "Kill-aura",
        Callback = function(state)
            if state then
                if not HasGun() then
                    Blocker = true
                    Notify("Erro", "Você precisa de uma arma.")
                    return
                end
                Aura = true
                Blocker = false
                Notify("Script", "[KILL-AURA] Ativado")
            else
                Aura = false
                Notify("Script", "[KILL-AURA] Desativado")
            end
        end
    })
    SectionA:Space()

    SectionA:Toggle({
        Title = "Noclip",
        Callback = function(state)
            if state then
                CanCollide = false
                if NoClipConn then
                    pcall(function() NoClipConn:Disconnect() end)
                end
                NoClipConn = RunService.Stepped:Connect(NoClip)
                Notify("Noclip", "Noclip ON")
            else
                CanCollide = true
                if NoClipConn then
                    pcall(function() NoClipConn:Disconnect() end)
                    NoClipConn = nil
                end
                Notify("Noclip", "Noclip OFF")
            end
        end
    })
    SectionA:Space()

    SectionA:Input({
        Title = "Bullets",
        Placeholder = "Valor",
        Callback = function(v)
            local n = tonumber(v)
            bulletsValue = n
            if n then
                Notify("Bullets", "Valor salvo: "..tostring(n))
            else
                Notify("Bullets", "Valor inválido")
            end
        end
    })
    SectionA:Space()

    SectionA:Input({
        Title = "Spread",
        Placeholder = "Valor",
        Callback = function(v)
            local n = tonumber(v)
            spreadValue = n
            if n then
                Notify("Spread", "Valor salvo: "..tostring(n))
            else
                Notify("Spread", "Valor inválido")
            end
        end
    })
    SectionA:Space()

    SectionA:Input({
        Title = "Range",
        Placeholder = "Valor",
        Callback = function(v)
            local n = tonumber(v)
            rangeValue = n
            if n then
                Notify("Range", "Valor salvo: "..tostring(n))
            else
                Notify("Range", "Valor inválido")
            end
        end
    })
    SectionA:Space()

    SectionA:Button({
        Title = "Modificar",
        Callback = function()
            if not HasGun() then
                Notify("Erro", "Você precisa de uma arma para modificar.")
                return
            end

            if bulletsValue then
                ModifyGun("Bullets", bulletsValue)
            end
            if spreadValue then
                ModifyGun("Spread", spreadValue)
            end
            if rangeValue then
                ModifyGun("Range", rangeValue)
            end

            Notify("Mods", "Aplicadas.")
        end
    })
    SectionA:Space()

    SectionA:Input({
        Title = "Speed",
        Placeholder = "Valor",
        Callback = function(v)
            local n = tonumber(v)
            speedValue = n
            if n then
                Notify("Speed", "Valor salvo: "..tostring(n))
            else
                Notify("Speed", "Valor inválido")
            end
        end
    })
    SectionA:Space()

    SectionA:Button({
        Title = "Aplicar",
        Callback = function()
            if not speedValue then
                Notify("Speed", "Informe um valor válido.")
                return
            end

            local h = Player.Character and Player.Character:FindFirstChild("Humanoid")
            if h then
                h.WalkSpeed = speedValue
                Notify("Speed", "Alterada para "..tostring(speedValue))
            else
                Notify("Speed", "Humanoid não encontrado.")
            end
        end
    })
    SectionA:Space()

    SectionA:Button({
        Title = "Resetar speed",
        Callback = function()
            local h = Player.Character and Player.Character:FindFirstChild("Humanoid")
            if h then
                h.WalkSpeed = WalkSpeedDefault or 16
                Notify("Speed", "Restaurada para "..tostring(WalkSpeedDefault or 16))
            end
        end
    })
end

-- HB Expander (kept intact)
do
    local TabB = ElementsSection:Tab({
        Title = "Hitbox",
        Icon = "solar:CheckSquareBold",
        IconColor = Green,
        IconShape = "Square",
    })

    local SectionB = TabB:Section({
        Title = "Hitbox e ESP"
    })

    local Players_local = game:GetService("Players")
    local LocalPlayer = Players_local.LocalPlayer

    local HitboxEnabled = false
    local HitboxSize = Vector3.new(5,5,5)
    local HitboxTransparency = 0.5
    local ESPEnabled = false
    local ESPTable = {}

    local function ResetHitbox(plr)
        if plr == LocalPlayer then return end
        local char = plr.Character
        if not char then return end

        local HRP = char:FindFirstChild("HumanoidRootPart")
        if not HRP then return end

        HRP.Size = Vector3.new(2,2,1)
        HRP.Transparency = 0
        HRP.CanCollide = true
        HRP.Massless = false

        local hl = HRP:FindFirstChild("Highlight_HB")
        if hl then hl:Destroy() end
    end

    local function ApplyHitbox(plr)
        if not HitboxEnabled then return end
        if plr == LocalPlayer then return end
        if plr.Team == LocalPlayer.Team then return end
        if not plr.Character then return end

        local HRP = plr.Character:FindFirstChild("HumanoidRootPart")
        if not HRP then return end

        HRP.Size = HitboxSize
        HRP.Transparency = HitboxTransparency
        HRP.CanCollide = false
        HRP.Massless = false

        local old = HRP:FindFirstChild("Highlight_HB")
        if old then old:Destroy() end

        local hl = Instance.new("Highlight")
        hl.Name = "Highlight_HB"
        hl.Parent = HRP
        hl.FillColor = plr.TeamColor.Color
        hl.OutlineColor = plr.TeamColor.Color
        hl.FillTransparency = 1 - HitboxTransparency
        hl.OutlineTransparency = HitboxTransparency
    end

    local function ClearESP(plr)
        if ESPTable[plr] then
            for _, d in pairs(ESPTable[plr]) do
                if d and d.Remove then pcall(d.Remove, d) end
            end
            ESPTable[plr] = nil
        end
    end

    local function ApplyESP(plr)
        if not ESPEnabled then return end
        if plr == LocalPlayer then return end
        if plr.Team == LocalPlayer.Team then return end
        if not plr.Character then return end

        ClearESP(plr)

        local HRP = plr.Character:FindFirstChild("HumanoidRootPart")
        local Hum = plr.Character:FindFirstChildWhichIsA("Humanoid")
        if not HRP or not Hum then return end

        local nameDraw = Drawing.new("Text")
        nameDraw.Size = 17
        nameDraw.Center = true
        nameDraw.Outline = true
        nameDraw.Color = Color3.new(1,1,1)

        local hpDraw = Drawing.new("Text")
        hpDraw.Size = 16
        hpDraw.Center = true
        hpDraw.Outline = true
        hpDraw.Color = Color3.fromRGB(0,255,0)

        local toolDraw = Drawing.new("Text")
        toolDraw.Size = 16
        toolDraw.Center = true
        toolDraw.Outline = true
        toolDraw.Color = Color3.fromRGB(200,200,255)

        ESPTable[plr] = {nameDraw, hpDraw, toolDraw}

        task.spawn(function()
            while ESPEnabled and plr.Character == HRP.Parent do
                local pos, visible = workspace.CurrentCamera:WorldToViewportPoint(HRP.Position + Vector3.new(0,3,0))

                if visible then
                    nameDraw.Text = plr.Name
                    nameDraw.Position = Vector2.new(pos.X, pos.Y - 20)
                    nameDraw.Visible = true

                    hpDraw.Text = tostring(math.floor(Hum.Health))
                    hpDraw.Position = Vector2.new(pos.X, pos.Y)
                    hpDraw.Visible = true

                    local tool
                    for _, v in ipairs(HRP.Parent:GetChildren()) do
                        if v:IsA("Tool") then tool = v.Name break end
                    end

                    if tool then
                        toolDraw.Text = tool
                        toolDraw.Position = Vector2.new(pos.X, pos.Y + 20)
                        toolDraw.Visible = true
                    else
                        toolDraw.Visible = false
                    end
                else
                    nameDraw.Visible = false
                    hpDraw.Visible = false
                    toolDraw.Visible = false
                end
                task.wait()
            end

            ClearESP(plr)
        end)
    end

    local function RefreshAll()
        for _,plr in ipairs(Players_local:GetPlayers()) do
            if HitboxEnabled then ApplyHitbox(plr) else ResetHitbox(plr) end
            ClearESP(plr)
            if ESPEnabled then ApplyESP(plr) end
        end
    end

    Players_local.PlayerAdded:Connect(function(plr)
        plr.CharacterAdded:Connect(function()
            task.wait(1)
            if HitboxEnabled then ApplyHitbox(plr) end
            if ESPEnabled then ApplyESP(plr) end
        end)
    end)

    SectionB:Toggle({
        Title = "Ativar Hitbox",
        Callback = function(v)
            HitboxEnabled = v
            RefreshAll()
        end
    })
    SectionB:Space()

    SectionB:Toggle({
        Title = "Ativar ESP (Drawing API)",
        Callback = function(v)
            ESPEnabled = v
            RefreshAll()
        end
    })
    SectionB:Space()

    SectionB:Input({
        Title = "Tamanho da Hitbox",
        Placeholder = "Ex: 5",
        Callback = function(v)
            local n = tonumber(v)
            if not n then return end

            HitboxSize = Vector3.new(n,n,n)
            RefreshAll()
        end
    })
    SectionB:Space()

    SectionB:Slider({
        Title = "Transparência",
        Step = 0.02,
        Value = {
            Min = 0,
            Max = 1,
            Default = 0.5,
        },
        Callback = function(val)
            HitboxTransparency = val
            RefreshAll()
        end
    })
end

-- AUTOFARM INTEGRATION START (cleaned / fixed variable names)
-- CONFIG
local cfg = ...
local ModoSeguro = (cfg and cfg.ModoSeguro) or false
local RaioDeSeguranca = (cfg and cfg.RaioDeSeguranca) or 50

local plr = Players.LocalPlayer
local Remotes = Replicated:WaitForChild("Assets"):WaitForChild("Remotes")
local BuyShop = Remotes:WaitForChild("BuyShop")
local Robbery = Remotes:WaitForChild("Robbery")
local char = player.Character or player.CharacterAdded:Wait()
local root = char:WaitForChild("HumanoidRootPart")
local bag = player:WaitForChild("Backpack")

local bank = workspace.Map.Robbery.Bank
local CollectPos = bank.CollectPad.Position
local status = bank.RobberyStatus.SurfaceGui.BankStatus

local A = "SAFEZONE"
local POS = CollectPos - Vector3.new(0,30,0)
local TAMANHO = Vector3.new(45,12,45)

local safe = workspace:FindFirstChild(A)
if not safe then
    safe = Instance.new("Part")
    safe.Name = A
    safe.Size = TAMANHO
    safe.Anchored = true
    safe.CanCollide = true
    safe.Position = POS
    safe.Transparency = 0.15
    safe.Material = Enum.Material.SmoothPlastic
    safe.BrickColor = BrickColor.new("Really black")
    safe.Parent = workspace
end

local function ref_af()
    char = player.Character or player.CharacterAdded:Wait()
    root = char:WaitForChild("HumanoidRootPart")
    bag = player:WaitForChild("Backpack")
end

local function tp_af(p)
    if char and root then
        char:PivotTo(CFrame.new(p))
    end
end

local function tps_af()
    local y = safe.Position.Y + safe.Size.Y/2 + 4
    tp_af(Vector3.new(safe.Position.X,y,safe.Position.Z))
end

local function item_af(n)
    return bag:FindFirstChild(n) or char:FindFirstChild(n)
end

local function aberto_af()
    local s = status
    return s and s.Text == "ABERTO"
end

local function c4_af()
    if not item_af("C4") then
        tp_af(Vector3.new(-760,19,-343))
        task.wait(0.3)
        BuyShop:FireServer("C4")
        repeat task.wait(0.1) until item_af("C4")
    end
end

local function dinheiro_af()
    for _,v in ipairs(workspace:GetDescendants()) do
        if v.Name == "Money Bag" then
            local h = v:FindFirstChildWhichIsA("BasePart")
            local a = h and h:FindFirstChild("DataAttachment")
            local g = a and a:FindFirstChild("BillboardGui")
            local l = g and g.Frame:FindFirstChild("Money")
            return l and tonumber(l.Text:match("%d+")) or 0
        end
    end
    return 0
end

local function spin_af()
    if char and root then
        char:PivotTo(root.CFrame * CFrame.Angles(0,math.rad(30),0))
    end
end

local function vender_af()
    local b = Vector3.new(-742,-7,-536)
    local o = Vector3.new(math.random(-3,3),math.random(-1,1),math.random(-3,3))
    local p = b + o
    tp_af(p)
    task.wait(0.15)
    while dinheiro_af() > 0 do
        Robbery:FireServer("Payment")
        task.wait(0.1)
    end
    task.wait(1)
    tp_af(CollectPos)
    task.wait(0.1)
    tps_af()
    task.wait(0.05)
end

local function seguro_af()
    if not ModoSeguro then return false end
    for _,p in ipairs(Players:GetPlayers()) do
        if p ~= plr and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
            local d = (p.Character.HumanoidRootPart.Position - root.Position).Magnitude
            if d <= RaioDeSeguranca then
                tps_af()
                return true
            end
        end
    end
    return false
end

local rodando = false
local AutofarmEnabled = false

local function farm_af()
    if rodando then return end
    rodando = true
    task.spawn(function()
        repeat task.wait(0.3) until aberto_af()
        c4_af()
        tp_af(Vector3.new(-309,-8,-358))
        task.wait(0.25)
        local t = item_af("C4")
        if t then char.Humanoid:EquipTool(t) end
        repeat task.wait(0.1) until item_af("C4")
        local vault = bank.BankVault.Vault.Front.Position
        tp_af(vault)
        task.wait(0.25)
        local prompt = bank.BankVault.C4.Handle:FindFirstChildOfClass("ProximityPrompt")
        while item_af("C4") and aberto_af() and AutofarmEnabled do
            if seguro_af() then repeat task.wait(1) until not seguro_af() end
            fireproximityprompt(prompt)
            task.wait(0.15)
        end
        tps_af()
        task.wait(10)
        while aberto_af() and AutofarmEnabled do
            if seguro_af() then repeat task.wait(1) until not seguro_af() end
            if dinheiro_af() >= 4000 then
                task.wait(math.random(5,7))
                vender_af()
            else
                tp_af(CollectPos)
                task.wait(0.01)
                spin_af()
                if char.Humanoid.Health < 50 then
                    tps_af()
                    repeat task.wait(0.2) until char.Humanoid.Health >= 90
                end
                tps_af()
                task.wait(0.005)
            end
        end
        rodando = false
    end)
end

ref_af()

plr.CharacterAdded:Connect(function(c)
    task.wait(0.05)
    ref_af()
    c:WaitForChild("Humanoid").Died:Connect(function()
        rodando = false
        local n = plr.CharacterAdded:Wait()
        char = n
        ref_af()
        task.wait(1)
        tp_af(CollectPos)
        task.wait(0.1)
        tps_af()
        if AutofarmEnabled then
            task.spawn(function() farm_af() end)
        end
    end)
end)

-- notifications for bank open/close
local last = status.Text
Notify("Banco", last == "ABERTO" and "O banco está aberto" or "O banco está fechado")

status:GetPropertyChangedSignal("Text"):Connect(function()
    local s = status.Text
    if s ~= last then
        last = s
        if s == "ABERTO" then
            Notify("Banco", "O banco abriu")
        else
            Notify("Banco", "O banco fechou")
        end
    end
end)
-- AUTOFARM INTEGRATION END

-- Replace / adapt Tab C to interact with autofarm
do
    local TabC = ElementsSection:Tab({
        Title = "Autofarm",
        Icon = "solar:CursorSquareBold",
        IconColor = Blue,
        IconShape = "Square",
    })

    local SectionC = TabC:Section({
        Title = "Autofarm Controls"
    })

    SectionC:Toggle({
        Title = "Ativar autofarm",
        Callback = function(v)
            AutofarmEnabled = v
            if v then
                Notify("Autofarm", "Autofarm ativado")
                if not rodando then
                    task.spawn(function() farm_af() end)
                end
            else
                Notify("Autofarm", "Autofarm desativado")
                AutofarmEnabled = false
                rodando = false
            end
        end
    })
    SectionC:Space()

    SectionC:Toggle({
        Title = "Modo seguro",
        Callback = function(v)
            ModoSeguro = v
            Notify("Modo seguro", v and "Ativado" or "Desativado")
        end
    })
    SectionC:Space()

    SectionC:Input({
        Title = "Raio de segurança",
        Placeholder = tostring(RaioDeSeguranca),
        Callback = function(v)
            local n = tonumber(v)
            if n then
                RaioDeSeguranca = n
                Notify("Modo seguro", "Raio atualizado para "..n)
            else
                Notify("Erro", "Digite um número válido")
            end
        end
    })
end

-- End of file
